<p id="notice"><%= notice %></p>

<h1>Lista Locales</h1>


<input type="text" id="search" placeholder="Búsqueda" class="form-control"></input>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>Nombre local</th>
      <th>Dirección</th>
      <th>Teléfono</th>
      <th>Correo</th>
      <th>Descripción</th>
      <th>Administrador</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @locals.each do |local| %>
      <tr>
        <td><%= local.no_local %></td>
        <td><%= local.tx_direccion %></td>
        <td><%= local.tx_telefono %></td>
        <td><%= local.tx_correo %></td>
        <td><%= local.tx_descripcion %></td>
        <td><%= local.co_administrador %></td>
        <td><%= link_to 'Ver', local %></td>
        <td><%= link_to 'Editar', edit_local_path(local) %></td>
        <td><%= link_to 'Eliminar', local, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>

<br>

<%= link_to 'Nuevo Local', new_local_path %>


<script type="text/javascript">
  
  $("#search").on("keyup", function() {
    var value = $(this).val();

    $("table tbody tr").each(function(index) {
        if (index !== 0) {

            $row = $(this);

            var id = $row.find("td:first").text();

            if (id.indexOf(value) !== 0) {
                $row.hide();
            }
            else {
                $row.show();
            }
        }
    });
});
</script>